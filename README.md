# Задача - Candy Delivery App API
---
## Вступление
Чтобы немного скрасить жизнь людей на самоизоляции, вы решаете открыть
интернет-магазин по доставке конфет *"Сласти от всех напастей"*.
## Постановка задачи
Ваша задача — разработать на python *REST API* сервис, который позволит нанимать курьеров на работу,
принимать заказы и оптимально распределять заказы между курьерами, попутно считая их рейтинг и заработок.
Сервис необходимо развернуть на предоставленной виртуальной машине на 0.0.0.0:8080.
    
---
## Требования ПО
 Для корректной работы  веб сервера необходимо установить:

* [Python 3](https://python.org/)

* Зависимости для Python из файла **requirements.txt**

---
## Установка  
### Если установка просиходит не на Ubuntu необходимо установить Python 3 в отдельно порядке при помощи пакетного менеджера дистрибутива или на [сайте python.org](https://python.org/)

Установку необходимых зависимостей можно выполнить автоматически при помощи скрипта *install.sh*:

    $ sh install.sh

*или*

    $ chmod u+x install.sh
    $ ./install.sh

В процессе установки будет скачан:

* Python 3 (на cервере с Ubuntu)  
* Pip 
* Python Virtualenv 
* Flask и зависимости к нему
* Pytest для тестирования

---
## Запуск (Docker)
Для запуска через Docker:



## Запуск обычный
### Подготовка
Перед началом работы с сервером необходим активировать venv:

	$ source .flask_env/bin/activate

из которого в последствии можно выйти:

	$ deactivate

Также необходимо поменять секретный ключ и режим работы сервера в конфигурационном файле сервера *config.cfg*:

	SECRET_KEY = 'вставить_случайную_последовательность_символов'	
	...
	DEBUG = False

### Тесты
Для запуска тестов используется следующая команда (*пердварительно активировать venv*):

	$ python3 -m pytest 	

После её выполнения может остаться тестовый вариант sqlite бд, который необходимо удалить для дальнейшего корректного функционирования тестов.

### Запуск веб сервера
Для запуска сервера использовать скрипт *./run*:

	$ chmod u+x run.sh
	$ ./run.sh

(при использвании *run.sh* перед сервером будут запущены тесты)
Для запуска без тестов:

	(.flask_env)$ python3 app.py

---
